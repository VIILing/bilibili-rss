<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <title>amis demo</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="stylesheet" href="sdk/sdk.css" />
    <link rel="stylesheet" href="sdk/helper.css" />
    <link rel="stylesheet" href="sdk/iconfont.css" />
    <!-- 这是默认主题所需的，如果是其他主题则不需要 -->
    <!-- 从 1.1.0 开始 sdk.css 将不支持 IE 11，如果要支持 IE11 请引用这个 css，并把前面那个删了 -->
    <!-- <link rel="stylesheet" href="sdk-ie11.css" /> -->
    <!-- 不过 amis 开发团队几乎没测试过 IE 11 下的效果，所以可能有细节功能用不了，如果发现请报 issue -->
    <style>
      html,
      body,
      .app-wrapper {
        position: relative;
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="root" class="app-wrapper"></div>
    <script src="sdk/sdk.js"></script>
    <script type="text/javascript">
      (function () {
        let amis = amisRequire('amis/embed');
        // 通过替换下面这个配置来生成不同页面
        let amisJSON = {
  "type": "page",
  "title": "kvManager2",
  "body": [
    {
      "id": "u:6042227fa921",
      "type": "crud2",
      "mode": "table2",
      "dsType": "api",
      "syncLocation": true,
      "primaryField": "key",
      "loadType": "pagination",
      "api": {
        "url": "/api/setting/kv/list",
        "method": "get"
      },
      "headerToolbar": [
        {
          "type": "flex",
          "direction": "row",
          "justify": "flex-start",
          "alignItems": "stretch",
          "style": {
            "position": "static",
            "flexWrap": "nowrap"
          },
          "items": [],
          "id": "u:67de926b0763",
          "isFixedHeight": false,
          "isFixedWidth": false
        }
      ],
      "footerToolbar": [
        {
          "type": "flex",
          "direction": "row",
          "justify": "flex-start",
          "alignItems": "stretch",
          "style": {
            "position": "static",
            "flexWrap": "nowrap"
          },
          "items": [
            {
              "type": "container",
              "align": "right",
              "body": [
                {
                  "type": "pagination",
                  "behavior": "Pagination",
                  "layout": [
                    "total",
                    "perPage",
                    "pager"
                  ],
                  "perPage": 10,
                  "perPageAvailable": [
                    10,
                    20,
                    50,
                    100
                  ],
                  "align": "right",
                  "id": "u:2545586bd598"
                }
              ],
              "wrapperBody": false,
              "style": {
                "flexGrow": 1,
                "flex": "1 1 auto",
                "position": "static",
                "display": "flex",
                "flexBasis": "auto",
                "flexDirection": "row",
                "flexWrap": "nowrap",
                "alignItems": "stretch",
                "justifyContent": "flex-end"
              },
              "id": "u:20efcc4463cc"
            }
          ],
          "id": "u:64d135fe1e28",
          "isFixedHeight": false,
          "isFixedWidth": false
        }
      ],
      "columns": [
        {
          "type": "tpl",
          "title": "键",
          "name": "key",
          "id": "u:e316adf86937",
          "placeholder": "-",
          "copyable": true,
          "sorter": true,
          "searchable": true
        },
        {
          "type": "tpl",
          "title": "值",
          "name": "value",
          "id": "u:0cc676ecc847",
          "placeholder": "-",
          "copyable": true,
          "sorter": true,
          "searchable": true
        },
        {
          "type": "operation",
          "title": "操作",
          "buttons": [
            {
              "type": "button",
              "label": "查看",
              "level": "link",
              "behavior": "View",
              "onEvent": {
                "click": {
                  "actions": [
                    {
                      "actionType": "dialog",
                      "dialog": {
                        "type": "dialog",
                        "body": [
                          {
                            "id": "u:9b67b299eaf0",
                            "type": "form",
                            "title": "查看数据",
                            "mode": "flex",
                            "labelAlign": "top",
                            "dsType": "api",
                            "feat": "View",
                            "body": [
                              {
                                "name": "key",
                                "label": "键",
                                "row": 0,
                                "type": "input-text",
                                "id": "u:65316c9fd206",
                                "readOnly": true
                              },
                              {
                                "name": "value",
                                "label": "值",
                                "row": 1,
                                "type": "input-text",
                                "id": "u:d3483deb48dd",
                                "readOnly": true
                              }
                            ],
                            "static": true,
                            "actions": [
                              {
                                "type": "button",
                                "actionType": "cancel",
                                "label": "关闭"
                              }
                            ],
                            "onEvent": {
                              "submitSucc": {
                                "actions": [
                                  {
                                    "actionType": "search",
                                    "groupType": "component",
                                    "componentId": "u:6042227fa921"
                                  }
                                ]
                              }
                            }
                          }
                        ],
                        "title": "查看数据",
                        "size": "md",
                        "actions": [
                          {
                            "type": "button",
                            "actionType": "cancel",
                            "label": "关闭",
                            "id": "u:b2e36c6a51ee"
                          }
                        ],
                        "actionType": "dialog",
                        "id": "u:c0b506b1fe89",
                        "showCloseButton": true,
                        "closeOnOutside": false,
                        "closeOnEsc": false,
                        "showErrorMsg": true,
                        "showLoading": true,
                        "draggable": false
                      }
                    }
                  ]
                }
              },
              "id": "u:06d7b4ce2b16"
            },
            {
              "type": "button",
              "label": "编辑",
              "level": "link",
              "behavior": "Edit",
              "onEvent": {
                "click": {
                  "actions": [
                    {
                      "actionType": "dialog",
                      "dialog": {
                        "type": "dialog",
                        "body": [
                          {
                            "id": "u:ff28fbcea692",
                            "type": "form",
                            "title": "编辑数据",
                            "mode": "flex",
                            "labelAlign": "top",
                            "dsType": "api",
                            "feat": "Edit",
                            "body": [
                              {
                                "name": "key",
                                "label": "键",
                                "row": 0,
                                "type": "input-text",
                                "id": "u:93a99ee201c7",
                                "readOnly": true
                              },
                              {
                                "name": "value",
                                "label": "值",
                                "row": 1,
                                "type": "input-text",
                                "id": "u:82075bfb6bf9"
                              }
                            ],
                            "resetAfterSubmit": true,
                            "actions": [
                              {
                                "type": "button",
                                "actionType": "cancel",
                                "label": "取消"
                              },
                              {
                                "type": "button",
                                "actionType": "submit",
                                "label": "提交",
                                "level": "primary"
                              }
                            ],
                            "onEvent": {
                              "submitSucc": {
                                "actions": [
                                  {
                                    "actionType": "search",
                                    "groupType": "component",
                                    "componentId": "u:6042227fa921"
                                  }
                                ]
                              }
                            },
                            "api": {
                              "url": "/api/setting/kv/update",
                              "method": "post",
                              "requestAdaptor": "",
                              "adaptor": "",
                              "messages": {},
                              "dataType": "json"
                            }
                          }
                        ],
                        "title": "编辑数据",
                        "size": "md",
                        "actions": [
                          {
                            "type": "button",
                            "actionType": "cancel",
                            "label": "取消",
                            "id": "u:7492295802ec"
                          },
                          {
                            "type": "button",
                            "actionType": "submit",
                            "label": "提交",
                            "level": "primary",
                            "id": "u:f195f3f333c4"
                          }
                        ],
                        "actionType": "dialog",
                        "id": "u:9a61e9ba16a4",
                        "showCloseButton": true,
                        "closeOnOutside": false,
                        "closeOnEsc": false,
                        "showErrorMsg": true,
                        "showLoading": true,
                        "draggable": false
                      }
                    }
                  ]
                }
              },
              "id": "u:a8b55ef775a4"
            }
          ],
          "id": "u:72d97019c782"
        }
      ],
      "editorSetting": {
        "mock": {
          "enable": true,
          "maxDisplayRows": 5
        }
      },
      "loadDataOnce": true
    }
  ],
  "id": "u:f14a5695c813",
  "asideResizor": false,
  "pullRefresh": {
    "disabled": true
  },
  "definitions": {}
}









        ;
        let amisScoped = amis.embed('#root', amisJSON);
      })();
    </script>
  </body>
</html>